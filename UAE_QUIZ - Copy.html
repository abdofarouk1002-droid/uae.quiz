<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UAE QUIZ üá¶üá™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            direction: rtl;
            text-align: right;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        /* Header */
        .header {
            background: white;
            padding: 30px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .title {
            font-size: 32px;
            font-weight: bold;
            color: #000;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 16px;
            color: #555;
        }

        /* Progress */
        .progress-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .progress-text {
            font-size: 16px;
            font-weight: bold;
            color: #000;
            margin-bottom: 10px;
            text-align: left;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #2196f3;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        /* Question Frame */
        .question-frame {
            background: white;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            min-height: 300px;
        }

        .question-text {
            font-size: 26px;
            font-weight: bold;
            color: #000;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        /* Options */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-button {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            color: #000;
            text-align: right;
            transition: all 0.3s ease;
        }

        .option-button:hover {
            background: #f0f0f0;
            border-color: #2196f3;
        }

        .option-button.selected {
            background: #2196f3;
            border-color: #2196f3;
            color: #fff;
        }

        .option-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            min-width: 50px;
            font-size: 22px;
            font-weight: bold;
            margin-left: 15px;
        }

        .option-text {
            flex: 1;
        }

        /* Buttons */
        .buttons-container {
            display: flex;
            gap: 10px;
            justify-content: space-between;
            margin-top: 20px;
        }

        button {
            padding: 12px 25px;
            font-size: 14px;
            font-weight: bold;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-prev {
            background: #e3f2fd;
            color: #1976d2;
        }

        .btn-prev:hover:not(:disabled) {
            background: #bbdefb;
        }

        .btn-prev:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-next {
            background: #2196f3;
            color: white;
        }

        .btn-next:hover {
            background: #1976d2;
        }

        /* Results Screen */
        .results-screen {
            display: none;
            text-align: center;
            background: white;
            padding: 60px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .results-screen.show {
            display: block;
        }

        .emoji {
            font-size: 100px;
            margin-bottom: 20px;
        }

        .score-display {
            font-size: 60px;
            font-weight: bold;
            color: #000;
            margin: 20px 0;
        }

        .percentage {
            font-size: 28px;
            color: #555;
            margin-bottom: 20px;
        }

        .result-message {
            font-size: 24px;
            font-weight: bold;
            color: #000;
            margin: 20px 0;
        }

        .result-details {
            font-size: 16px;
            color: #555;
            margin-bottom: 30px;
        }

        .result-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-restart {
            background: #1976d2;
            color: #000;
            padding: 12px 30px;
            font-size: 14px;
        }

        .btn-restart:hover {
            background: #1565c0;
        }

        .btn-review {
            background: #4caf50;
            color: #000;
            padding: 12px 20px;
            font-size: 14px;
        }

        .btn-review:hover {
            background: #45a049;
        }

        /* Review Screen */
        .review-screen {
            display: none;
        }

        .review-screen.show {
            display: block;
        }

        .review-title {
            font-size: 28px;
            font-weight: bold;
            color: #000;
            margin-bottom: 30px;
            text-align: center;
        }

        .review-container {
            max-height: 600px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .review-item {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .review-question {
            font-size: 14px;
            font-weight: bold;
            color: #000;
            margin-bottom: 10px;
        }

        .review-status {
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .review-status.correct {
            color: #2e7d32;
        }

        .review-status.incorrect {
            color: #c62828;
        }

        .review-answer {
            font-size: 12px;
            color: #555;
            margin-bottom: 4px;
        }

        .review-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }

        /* Scrollbar styling */
        .review-container::-webkit-scrollbar {
            width: 8px;
        }

        .review-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .review-container::-webkit-scrollbar-thumb {
            background: #2196f3;
            border-radius: 10px;
        }

        @media (max-width: 600px) {
            .question-frame {
                padding: 20px;
                min-height: 250px;
            }

            .question-text {
                font-size: 20px;
            }

            .option-button {
                font-size: 16px;
                padding: 12px 15px;
            }

            .option-number {
                width: 40px;
                font-size: 18px;
            }

            .title {
                font-size: 24px;
            }

            button {
                padding: 10px 15px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Quiz Screen -->
        <div id="quizScreen">
            <!-- Header -->
            <div class="header">
                <div class="title">üá¶üá™ UAE QUIZ üá¶üá™</div>
                <div class="subtitle">ÿßÿÆÿ™ÿ®ÿ± ŸÖÿπÿ±ŸÅÿ™ŸÉ ÿ≠ŸàŸÑ ÿØŸàŸÑÿ© ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑŸÖÿ™ÿ≠ÿØÿ©</div>
            </div>

            <!-- Progress -->
            <div class="progress-container">
                <div class="progress-text" id="progressText">ÿßŸÑÿ≥ÿ§ÿßŸÑ 1 ŸÖŸÜ 25 | ‚úì 0</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 4%;">4%</div>
                </div>
            </div>

            <!-- Question Frame -->
            <div class="question-frame">
                <div class="question-text" id="questionText"></div>
                <div class="options-container" id="optionsContainer"></div>
            </div>

            <!-- Buttons -->
            <div class="buttons-container">
                <button class="btn-prev" id="prevBtn" onclick="app.prevQuestion()">‚Üê ÿßŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ≥ÿßÿ®ŸÇ</button>
                <button class="btn-next" id="nextBtn" onclick="app.nextQuestion()">ÿßŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ™ÿßŸÑŸä ‚Üí</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="results-screen">
            <div class="emoji" id="emoji"></div>
            <div class="score-display" id="scoreDisplay"></div>
            <div class="percentage" id="percentageDisplay"></div>
            <div class="result-message" id="resultMessage"></div>
            <div class="result-details" id="resultDetails"></div>
            <div class="result-buttons">
                <button class="btn-restart" onclick="app.restartQuiz()">ÿ•ÿπÿßÿØÿ© ÿßŸÑÿßŸÖÿ™ÿ≠ÿßŸÜ üîÑ</button>
                <button class="btn-review" onclick="app.showReview()">ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ üìã</button>
            </div>
        </div>

        <!-- Review Screen -->
        <div id="reviewScreen" class="review-screen">
            <div class="review-title">ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™</div>
            <div class="review-container" id="reviewContainer"></div>
            <div class="review-buttons">
                <button class="btn-restart" onclick="app.restartQuiz()">ÿ•ÿπÿßÿØÿ© ÿßŸÑÿßŸÖÿ™ÿ≠ÿßŸÜ üîÑ</button>
                <button style="background: #9e9e9e; color: #000;" onclick="app.showResults()">ÿßŸÑÿπŸàÿØÿ©</button>
            </div>
        </div>
    </div>

    <script>
        const app = {
            // All questions
            allQuestions: [
                {q: "ŸÖÿß ÿπÿßÿµŸÖÿ© ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿßŸÑŸÖÿ™ÿ≠ÿØÿ©ÿü", options: ["ÿØÿ®Ÿä", "ÿ£ÿ®Ÿà ÿ∏ÿ®Ÿä", "ÿßŸÑÿ¥ÿßÿ±ŸÇÿ©"], ans: "B"},
                {q: "ŸÉŸÖ ÿπÿØÿØ ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ ŸÅŸä ÿßŸÑÿØŸàŸÑÿ©ÿü", options: ["6", "7", "8"], ans: "B"},
                {q: "ŸÅŸä ÿ£Ÿä ÿ≥ŸÜÿ© ÿ™ŸÖ ÿ™ÿ£ÿ≥Ÿäÿ≥ ÿØŸàŸÑÿ© ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["1969", "1971", "1973"], ans: "B"},
                {q: "ŸÖŸÜ ŸáŸà ŸÖÿ§ÿ≥ÿ≥ ÿØŸàŸÑÿ© ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["ŸÖÿ≠ŸÖÿØ ÿ®ŸÜ ÿ±ÿßÿ¥ÿØ", "ÿ≤ÿßŸäÿØ ÿ®ŸÜ ÿ≥ŸÑÿ∑ÿßŸÜ", "ŸÖÿ≠ŸÖÿØ ÿ®ŸÜ ÿ≤ÿßŸäÿØ"], ans: "B"},
                {q: "ŸÖÿß ÿ£ŸÉÿ®ÿ± ÿ•ŸÖÿßÿ±ÿ© ŸÅŸä ÿßŸÑÿØŸàŸÑÿ© ŸÖŸÜ ÿ≠Ÿäÿ´ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ©ÿü", options: ["ÿØÿ®Ÿä", "ÿ£ÿ®Ÿà ÿ∏ÿ®Ÿä", "ÿßŸÑÿ¥ÿßÿ±ŸÇÿ©"], ans: "B"},
                {q: "ŸÖÿß ŸáŸà ÿ£ÿπŸÑŸâ ŸÖÿ®ŸÜŸâ ŸÅŸä ÿßŸÑÿπÿßŸÑŸÖ ÿßŸÑŸÖŸàÿ¨ŸàÿØ ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["ÿ®ÿ±ÿ¨ ÿÆŸÑŸäŸÅÿ©", "ÿ®ÿ±ÿ¨ ÿßŸÑÿπÿ±ÿ®", "ŸÜÿÆŸÑÿ© ÿ¨ŸÖŸäÿ±ÿß"], ans: "A"},
                {q: "ŸÅŸä ÿ£Ÿä ÿ•ŸÖÿßÿ±ÿ© ŸäŸÇÿπ ÿ®ÿ±ÿ¨ ÿÆŸÑŸäŸÅÿ©ÿü", options: ["ÿ£ÿ®Ÿà ÿ∏ÿ®Ÿä", "ÿØÿ®Ÿä", "ÿßŸÑÿ¥ÿßÿ±ŸÇÿ©"], ans: "B"},
                {q: "ŸÖÿß ÿßÿ≥ŸÖ ÿßŸÑÿ¥ÿßÿ∑ÿ¶ ÿßŸÑÿ¥ŸáŸäÿ± ŸÅŸä ÿØÿ®Ÿäÿü", options: ["ÿ¥ÿßÿ∑ÿ¶ ÿßŸÑŸÖŸÖÿ≤ÿ±", "ÿ¥ÿßÿ∑ÿ¶ ÿ¨ŸÖŸäÿ±ÿß", "ÿ¥ÿßÿ∑ÿ¶ ÿ£ŸÖ ÿ≥ŸÇŸäŸÖ"], ans: "B"},
                {q: "ŸÉŸÖ ÿπÿØÿØ ÿ¨ÿ≤ÿ± ÿßŸÑŸÜÿÆŸäŸÑ ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸäÿ© ŸÅŸä ÿØÿ®Ÿäÿü", options: ["1", "2", "3"], ans: "C"},
                {q: "ŸÖÿß ŸáŸä ÿßŸÑÿπŸÖŸÑÿ© ÿßŸÑÿ±ÿ≥ŸÖŸäÿ© ŸÑŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["ÿßŸÑÿ±ŸäÿßŸÑ ÿßŸÑÿ≥ÿπŸàÿØŸä", "ÿßŸÑÿØÿ±ŸáŸÖ ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™Ÿä", "ÿßŸÑÿØŸäŸÜÿßÿ± ÿßŸÑŸÉŸàŸäÿ™Ÿä"], ans: "B"},
                {q: "ŸÉŸÖ ÿπÿØÿØ ÿ£ŸäÿßŸÖ ÿßŸÑÿ•ÿ¨ÿßÿ≤ÿ© ÿßŸÑÿ±ÿ≥ŸÖŸäÿ© ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["10", "11", "12"], ans: "B"},
                {q: "ŸÖÿß ŸáŸà ÿßŸÑŸäŸàŸÖ ÿßŸÑŸàÿ∑ŸÜŸä ŸÑŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["1 ŸäŸÜÿßŸäÿ±", "2 ÿØŸäÿ≥ŸÖÿ®ÿ±", "3 ŸäŸàŸÜŸäŸà"], ans: "B"},
                {q: "ŸÅŸä ÿ£Ÿä ÿ•ŸÖÿßÿ±ÿ© ŸäŸÇÿπ ÿßŸÑŸÖÿ™ÿ≠ŸÅ ÿßŸÑŸàÿ∑ŸÜŸäÿü", options: ["ÿ£ÿ®Ÿà ÿ∏ÿ®Ÿä", "ÿØÿ®Ÿä", "ÿßŸÑÿ¥ÿßÿ±ŸÇÿ©"], ans: "A"},
                {q: "ŸÖÿß ÿ£ŸÉÿ´ÿ± ŸÑÿ∫ÿ© ŸÖÿ≥ÿ™ÿÆÿØŸÖÿ© ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ©", "ÿßŸÑÿπÿ±ÿ®Ÿäÿ©", "ÿßŸÑÿ£ÿ±ÿØŸäÿ©"], ans: "B"},
                {q: "ŸÖÿß ŸáŸä ÿ£ŸÉÿ®ÿ± ŸÖÿØŸäŸÜÿ© ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ ŸÖŸÜ ÿ≠Ÿäÿ´ ÿßŸÑÿ≥ŸÉÿßŸÜÿü", options: ["ÿ£ÿ®Ÿà ÿ∏ÿ®Ÿä", "ÿØÿ®Ÿä", "ÿßŸÑÿ¥ÿßÿ±ŸÇÿ©"], ans: "B"},
                {q: "ŸÉŸÖ ÿπÿØÿØ ÿßŸÑÿ≥ŸÉÿßŸÜ ÿßŸÑŸÖÿ™ŸàŸÇÿπ ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["5 ŸÖŸÑÿßŸäŸäŸÜ", "10 ŸÖŸÑÿßŸäŸäŸÜ", "15 ŸÖŸÑŸäŸàŸÜ"], ans: "B"},
                {q: "ŸÖÿß ÿßÿ≥ŸÖ ÿ£ŸÉÿ®ÿ± ŸÖŸàŸÑ ŸÅŸä ÿßŸÑÿ¥ÿ±ŸÇ ÿßŸÑÿ£Ÿàÿ≥ÿ∑ÿü", options: ["ŸÖŸàŸÑ ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™", "ÿØÿ®Ÿä ŸÖŸàŸÑ", "ŸàÿßŸÅŸä ÿ≥Ÿäÿ™Ÿä"], ans: "B"},
                {q: "ŸÅŸä ÿ£Ÿä ÿ•ŸÖÿßÿ±ÿ© ŸäŸÇÿπ ÿ£ŸÉÿ®ÿ± ŸÖÿ±ÿ≥Ÿâ ÿ®ÿ≠ÿ±Ÿäÿü", options: ["ÿ£ÿ®Ÿà ÿ∏ÿ®Ÿä", "ÿØÿ®Ÿä", "ÿ±ÿ£ÿ≥ ÿßŸÑÿÆŸäŸÖÿ©"], ans: "B"},
                {q: "ŸÖÿß ŸáŸà ÿ£ŸÇÿØŸÖ ÿ≠ÿµŸÜ ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["ÿ≠ÿµŸÜ ÿßŸÑŸÅÿßŸäÿ©", "ÿ≠ÿµŸÜ ÿßŸÑÿ®ÿ±ÿßŸäÿ≠", "ÿ≠ÿµŸÜ ÿßŸÑÿ¨ÿßŸáŸÑŸä"], ans: "C"},
                {q: "ŸÉŸÖ ÿπÿØÿØ ÿßŸÑÿ¨ÿ≤ÿ± ÿßŸÑÿ™ÿßÿ®ÿπÿ© ŸÑŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["100", "200", "300"], ans: "C"},
                {q: "ŸÖÿß ÿßÿ≥ŸÖ ÿ£ŸÉÿ®ÿ± ŸÖÿØŸäŸÜÿ© ÿ≥ÿßÿ≠ŸÑŸäÿ© ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ ÿßŸÑÿ¥ŸÖÿßŸÑŸäÿ©ÿü", options: ["ÿ±ÿ£ÿ≥ ÿßŸÑÿÆŸäŸÖÿ©", "ÿßŸÑŸÅÿ¨Ÿäÿ±ÿ©", "ÿ£ŸÖ ÿßŸÑŸÇŸäŸàŸäŸÜ"], ans: "A"},
                {q: "ŸÅŸä ÿ£Ÿä ÿ•ŸÖÿßÿ±ÿ© ŸäŸÇÿπ ÿ£ŸÉÿ®ÿ± ÿ≠ŸÇŸÑ ŸÜŸÅÿ∑ ÿ®ÿ±Ÿäÿü", options: ["ÿØÿ®Ÿä", "ÿ£ÿ®Ÿà ÿ∏ÿ®Ÿä", "ÿßŸÑÿ¥ÿßÿ±ŸÇÿ©"], ans: "B"},
                {q: "ŸÖÿß ÿπÿØÿØ ÿ£ŸäÿßŸÖ ÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑÿπŸÖŸÑ ÿßŸÑÿ±ÿ≥ŸÖŸä ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["5", "5.5", "6"], ans: "A"},
                {q: "ŸÅŸä ÿ£Ÿä ÿ≥ŸÜÿ© ÿ™ŸÖ ÿßŸÅÿ™ÿ™ÿßÿ≠ ÿ®ÿ±ÿ¨ ÿÆŸÑŸäŸÅÿ©ÿü", options: ["2008", "2009", "2010"], ans: "C"},
                {q: "ŸÖÿß ŸáŸà ÿ£ÿπŸÑŸâ ÿØÿ±ÿ¨ÿ© ÿ≠ÿ±ÿßÿ±ÿ© ŸÖÿ≥ÿ¨ŸÑÿ© ŸÅŸä ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ÿü", options: ["50", "52", "54"], ans: "C"},
            ],

            questions: [],
            currentQ: 0,
            score: 0,
            answers: [],
            state: 'quiz', // quiz | results | review

            // Shuffle questions
            shuffle() {
                this.questions = this.allQuestions
                    .sort(() => Math.random() - 0.5)
                    .slice(0, 25);
                this.answers = new Array(25).fill(null);
                this.score = 0;
                this.currentQ = 0;
                this.state = 'quiz';
            },

            // Init
            init() {
                this.shuffle();
                this.showQuestion();
            },

            // Show current question
            showQuestion() {
                const q = this.questions[this.currentQ];
                document.getElementById('questionText').textContent = q.q;

                const container = document.getElementById('optionsContainer');
                container.innerHTML = '';

                const letters = ['A', 'B', 'C'];
                q.options.forEach((option, idx) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-button';
                    if (this.answers[this.currentQ] === letters[idx]) {
                        btn.classList.add('selected');
                    }

                    btn.innerHTML = `
                        <div class="option-text">${option}</div>
                        <div class="option-number">${idx + 1}.</div>
                    `;

                    btn.onclick = () => this.selectAnswer(letters[idx]);
                    container.appendChild(btn);
                });

                // Update progress
                const answered = this.answers.filter(a => a !== null).length;
                document.getElementById('progressText').textContent = 
                    `ÿßŸÑÿ≥ÿ§ÿßŸÑ ${this.currentQ + 1} ŸÖŸÜ 25 | ‚úì ${answered}`;
                document.getElementById('progressFill').style.width = 
                    `${((this.currentQ + 1) / 25) * 100}%`;
                document.getElementById('progressFill').textContent = 
                    `${Math.round(((this.currentQ + 1) / 25) * 100)}%`;

                // Update buttons
                document.getElementById('prevBtn').disabled = this.currentQ === 0;
                if (this.currentQ === 24) {
                    document.getElementById('nextBtn').textContent = 'ÿ•ŸÜŸáÿßÿ° ÿßŸÑÿßŸÖÿ™ÿ≠ÿßŸÜ ‚úì';
                } else {
                    document.getElementById('nextBtn').textContent = 'ÿßŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ™ÿßŸÑŸä ‚Üí';
                }
            },

            // Select answer
            selectAnswer(letter) {
                this.answers[this.currentQ] = letter;
                this.showQuestion();
                // Auto move to next
                if (this.currentQ < 24) {
                    this.currentQ++;
                    this.showQuestion();
                }
            },

            // Next question
            nextQuestion() {
                if (this.currentQ < 24) {
                    this.currentQ++;
                    this.showQuestion();
                } else {
                    this.finishQuiz();
                }
            },

            // Previous question
            prevQuestion() {
                if (this.currentQ > 0) {
                    this.currentQ--;
                    this.showQuestion();
                }
            },

            // Finish quiz
            finishQuiz() {
                this.score = 0;
                for (let i = 0; i < this.questions.length; i++) {
                    if (this.answers[i] === this.questions[i].ans) {
                        this.score++;
                    }
                }
                this.state = 'results';
                this.showResults();
            },

            // Show results
            showResults() {
                document.getElementById('quizScreen').classList.add('hidden');
                document.getElementById('reviewScreen').classList.remove('show');
                document.getElementById('resultsScreen').classList.add('show');

                const percentage = (this.score / 25) * 100;
                let emoji, message, details, color;

                if (this.score === 25) {
                    emoji = 'üèÜ';
                    message = 'ÿ£ÿØÿßÿ° ŸÖŸÖÿ™ÿßÿ≤!';
                    details = 'ÿ£ŸÜÿ™ ÿÆÿ®Ÿäÿ± ŸÅŸä ÿ´ŸÇÿßŸÅÿ© ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™!';
                    color = '#1565c0';
                } else if (this.score >= 20) {
                    emoji = 'üéâ';
                    message = 'ŸÜÿ™Ÿäÿ¨ÿ© ŸÖŸÖÿ™ÿßÿ≤ÿ©!';
                    details = 'ŸÖÿπÿ±ŸÅÿ™ŸÉ ÿ®ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™ ÿπÿßŸÑŸäÿ© ÿ¨ÿØÿßŸã!';
                    color = '#1976d2';
                } else if (this.score >= 18) {
                    emoji = 'üëç';
                    message = 'ŸÜÿ™Ÿäÿ¨ÿ© ÿ¨ŸäÿØÿ© ÿ¨ÿØÿßŸã!';
                    details = 'ŸÑÿØŸäŸÉ ŸÖÿπÿ±ŸÅÿ© ÿ¨ŸäÿØÿ© ÿ®ÿØŸàŸÑÿ© ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™!';
                    color = '#2196f3';
                } else if (this.score >= 12) {
                    emoji = 'üìö';
                    message = 'ŸÜÿ™Ÿäÿ¨ÿ© ŸÖŸÇÿ®ŸàŸÑÿ©';
                    details = 'ÿ≠ÿßŸàŸÑ ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ÿ£ŸÉÿ´ÿ±!';
                    color = '#64b5f6';
                } else {
                    emoji = 'üìñ';
                    message = 'ÿ™ÿ≠ÿ™ÿßÿ¨ ŸÖÿ±ÿßÿ¨ÿπÿ©';
                    details = 'ÿßŸÇÿ±ÿ£ ÿßŸÑŸÖÿ≤ŸäÿØ ÿπŸÜ ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™!';
                    color = '#90caf9';
                }

                document.getElementById('emoji').textContent = emoji;
                document.getElementById('scoreDisplay').textContent = `${this.score}/25`;
                document.getElementById('percentageDisplay').textContent = `${percentage.toFixed(0)}%`;
                document.getElementById('resultMessage').textContent = message;
                document.getElementById('resultDetails').textContent = details;
            },

            // Show review
            showReview() {
                document.getElementById('resultsScreen').classList.remove('show');
                document.getElementById('reviewScreen').classList.add('show');

                const container = document.getElementById('reviewContainer');
                container.innerHTML = '';

                this.questions.forEach((q, idx) => {
                    const userAns = this.answers[idx];
                    const correctLetter = q.ans;
                    const correctIdx = correctLetter.charCodeAt(0) - 'A'.charCodeAt(0);
                    const userIdx = userAns ? userAns.charCodeAt(0) - 'A'.charCodeAt(0) : null;

                    const isCorrect = userAns === correctLetter;
                    const userText = userIdx !== null ? q.options[userIdx] : 'ŸÑŸÖ ÿ™ÿ¨ÿ®';
                    const correctText = q.options[correctIdx];

                    const item = document.createElement('div');
                    item.className = 'review-item';
                    item.innerHTML = `
                        <div class="review-question">${idx + 1}. ${q.q}</div>
                        <div class="review-status ${isCorrect ? 'correct' : 'incorrect'}">
                            ${isCorrect ? '‚úì ÿµÿ≠Ÿäÿ≠' : '‚úó ÿÆÿßÿ∑ÿ¶'}
                        </div>
                        <div class="review-answer">ÿ•ÿ¨ÿßÿ®ÿ™ŸÉ: ${userText}</div>
                        ${!isCorrect ? `<div class="review-answer"><strong>ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©: ${correctText}</strong></div>` : ''}
                    `;
                    container.appendChild(item);
                });
            },

            // Restart quiz
            restartQuiz() {
                document.getElementById('quizScreen').classList.remove('hidden');
                document.getElementById('resultsScreen').classList.remove('show');
                document.getElementById('reviewScreen').classList.remove('show');
                this.init();
            }
        };

        // Start app on page load
        window.onload = () => app.init();
    </script>
</body>
</html>
